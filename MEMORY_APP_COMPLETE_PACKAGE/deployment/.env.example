# Memo App Environment Configuration
# Copy this file to .env.production and fill in your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=3001
LOG_LEVEL=info

# =============================================================================
# SECURITY CONFIGURATION (CRITICAL - CHANGE ALL VALUES)
# =============================================================================

# HMAC Security Keys (MUST be 64+ characters, randomly generated)
MEMO_APP_SECRET=your_super_secure_memo_app_secret_key_minimum_64_characters_long_change_this
API_SECRET_KEY=your_api_secret_key_for_internal_communications_minimum_64_characters_change_this
ENCRYPTION_KEY=your_encryption_key_for_sensitive_data_minimum_32_characters_change_this

# JWT Configuration
JWT_SECRET=your_jwt_secret_key_for_user_authentication_minimum_32_characters_change_this
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
STRICT_RATE_LIMIT_MAX=5

# =============================================================================
# WHATSAPP INTEGRATION
# =============================================================================

# WhatsApp Business API Configuration
WHATSAPP_APP_SECRET=your_whatsapp_app_secret_from_meta_developer_console_change_this
WHATSAPP_VERIFY_TOKEN=your_whatsapp_webhook_verification_token_change_this
WHATSAPP_ACCESS_TOKEN=your_whatsapp_access_token_from_meta_change_this
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_phone_number_id_change_this
WHATSAPP_BUSINESS_ACCOUNT_ID=your_whatsapp_business_account_id_change_this

# WhatsApp Webhook URL (your domain)
WHATSAPP_WEBHOOK_URL=https://your-domain.com/api/whatsapp/webhook

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_URL=postgresql://memo:your_secure_password@postgres:5432/memo_app
POSTGRES_PASSWORD=your_secure_postgres_password_change_this
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=20
DATABASE_TIMEOUT=30000

# Redis Cache
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=your_secure_redis_password_change_this
REDIS_TTL=3600

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_change_this
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Pinecone Vector Database
PINECONE_API_KEY=your_pinecone_api_key_change_this
PINECONE_ENVIRONMENT=your_pinecone_environment_change_this
PINECONE_INDEX_NAME=memo-memories

# Speech Services
AZURE_SPEECH_KEY=your_azure_speech_key_change_this
AZURE_SPEECH_REGION=your_azure_region_change_this

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Email Service (for notifications)
SMTP_HOST=your_smtp_host
SMTP_PORT=587
SMTP_USER=your_smtp_username
SMTP_PASS=your_smtp_password
SMTP_FROM=noreply@your-domain.com

# File Storage (AWS S3 or compatible)
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=memo-app-files

# =============================================================================
# MONITORING & LOGGING
# =============================================================================

# Logging Configuration
LOG_FILE=/app/logs/memo-app.log
SECURITY_LOG_FILE=/app/logs/security.log
ERROR_LOG_FILE=/app/logs/error.log

# Monitoring
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
GRAFANA_PASSWORD=your_secure_grafana_password_change_this

# Sentry Error Tracking (optional)
SENTRY_DSN=your_sentry_dsn_if_using_sentry

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Frontend URLs (for CORS)
FRONTEND_URL=https://your-domain.com
ADMIN_URL=https://admin.your-domain.com

# API Configuration
API_BASE_URL=https://api.your-domain.com
API_VERSION=v1

# =============================================================================
# SSL/TLS CONFIGURATION
# =============================================================================

# SSL Certificate paths (if using custom certificates)
SSL_CERT_PATH=/etc/ssl/certs/memo-app.crt
SSL_KEY_PATH=/etc/ssl/private/memo-app.key

# Let's Encrypt (if using automatic SSL)
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_DOMAIN=your-domain.com

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Database Backup
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=memo-app-backups

# =============================================================================
# DEVELOPMENT OVERRIDES (remove in production)
# =============================================================================

# Development settings (REMOVE THESE IN PRODUCTION)
# DEBUG=memo:*
# DEVELOPMENT_MODE=false
# MOCK_WHATSAPP=false
# MOCK_AI_SERVICES=false

# =============================================================================
# SECURITY NOTES
# =============================================================================

# IMPORTANT SECURITY REMINDERS:
# 1. Change ALL default passwords and secrets
# 2. Use strong, randomly generated keys (64+ characters for HMAC keys)
# 3. Never commit this file with real values to version control
# 4. Use environment-specific files (.env.production, .env.staging)
# 5. Regularly rotate secrets and API keys
# 6. Monitor access logs for suspicious activity
# 7. Enable 2FA on all external service accounts
# 8. Use HTTPS in production
# 9. Implement proper firewall rules
# 10. Regular security audits and updates

# =============================================================================
# QUICK SETUP COMMANDS
# =============================================================================

# Generate secure random keys:
# openssl rand -hex 64  # For HMAC keys
# openssl rand -hex 32  # For encryption keys
# openssl rand -base64 32  # For JWT secrets

# Test configuration:
# npm run config:validate

# Check security:
# npm run security:audit

