# ============================================
# MEMORY APP PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================
# This file contains ALL required environment variables for production deployment
# Copy this file to .env and fill in your actual values
# NEVER commit the actual .env file to version control

# ============================================
# CORE CONFIGURATION
# ============================================
NODE_ENV=production
ENVIRONMENT=production
APP_NAME="Memory App Platform"
APP_VERSION=1.0.0
APP_URL=https://your-domain.com
API_URL=https://api.your-domain.com

# Security
JWT_SECRET=your-very-long-random-jwt-secret-at-least-64-chars
ADMIN_JWT_SECRET=another-very-long-random-admin-jwt-secret-64-chars
MEMORY_MASTER_SECRET=master-encryption-secret-for-memory-encryption
ENCRYPTION_KEY=base64-encoded-32-byte-encryption-key
SESSION_SECRET=session-secret-for-express-sessions

# ============================================
# DATABASE CONFIGURATION
# ============================================
# PostgreSQL (Primary Database)
DATABASE_URL=postgresql://username:password@host:port/dbname?sslmode=require
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL=true

# Redis (Caching & Sessions)
REDIS_URL=redis://username:password@host:port
REDIS_TLS=true
REDIS_CACHE_TTL=3600
REDIS_SESSION_TTL=86400

# ============================================
# AI SERVICES
# ============================================
# OpenAI (Primary AI)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORG_ID=org-your-organization-id
OPENAI_MODEL=gpt-5
OPENAI_MAX_TOKENS=2000
OPENAI_TEMPERATURE=0.7

# Anthropic Claude (Fallback AI)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus
ANTHROPIC_MAX_TOKENS=2000

# xAI Grok (Social Insights)
XAI_API_KEY=xai-your-xai-api-key
XAI_MODEL=grok-1
XAI_MAX_TOKENS=1500

# ============================================
# COMMUNICATION SERVICES
# ============================================
# Twilio (Voice & SMS)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890
TWILIO_WEBHOOK_SECRET=your-webhook-verification-secret
TWILIO_VOICE_URL=https://api.your-domain.com/webhook/twilio/voice
TWILIO_SMS_URL=https://api.your-domain.com/webhook/twilio/sms
TWILIO_DEMO_MODE=false

# WhatsApp Business API
WHATSAPP_BUSINESS_ID=your-business-id
WHATSAPP_PHONE_NUMBER_ID=your-phone-number-id
WHATSAPP_ACCESS_TOKEN=your-whatsapp-access-token
WHATSAPP_WEBHOOK_SECRET=your-whatsapp-webhook-secret
WHATSAPP_WEBHOOK_URL=https://api.your-domain.com/webhook/whatsapp
WHATSAPP_DEMO_MODE=false

# Telegram Bot
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklmnopQRSTuvwxyz123456789
TELEGRAM_BOT_USERNAME=YourMemoryBot
TELEGRAM_WEBHOOK_URL=https://api.your-domain.com/webhook/telegram
TELEGRAM_DEMO_MODE=false

# ============================================
# PAYMENT SERVICES
# ============================================
# Stripe
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
STRIPE_WEBHOOK_URL=https://api.your-domain.com/webhook/stripe

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# CORS
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://app.your-domain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESS_REQUESTS=false

# Security Headers
HSTS_MAX_AGE=31536000
CSP_DIRECTIVES=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'

# Admin Access
ADMIN_USERNAME=admin
ADMIN_PASSWORD_HASH=bcrypt-hashed-password
ADMIN_EMAIL=admin@your-domain.com
ADMIN_IP_WHITELIST=192.168.1.1,10.0.0.1
ADMIN_2FA_ENABLED=true

# ============================================
# MONITORING & LOGGING
# ============================================
# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=/var/log/memory-app
LOG_MAX_SIZE=10M
LOG_MAX_FILES=30
LOG_COMPRESS=true

# Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
STATSD_HOST=localhost
STATSD_PORT=8125

# Health Checks
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_FAILURE_THRESHOLD=3

# ============================================
# PERFORMANCE OPTIMIZATION
# ============================================
# Caching
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_KEYS=1000
CACHE_CHECK_PERIOD=600

# Connection Pooling
CONNECTION_POOL_SIZE=20
CONNECTION_TIMEOUT=30000
CONNECTION_IDLE_TIMEOUT=10000

# Worker Configuration
WORKER_PROCESSES=4
WORKER_THREADS=2
MAX_MEMORY_RESTART=1024M

# ============================================
# BACKUP & RECOVERY
# ============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 3 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=memory-app-backups
BACKUP_ENCRYPTION_KEY=backup-encryption-key

# AWS S3 (for backups and media storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=memory-app-media

# ============================================
# FEATURE FLAGS
# ============================================
FEATURE_VOICE_CLONING=true
FEATURE_VOICE_AUTH=true
FEATURE_MEMORY_GAMING=true
FEATURE_ADMIN_DASHBOARD=true
FEATURE_MUTUAL_CONNECTIONS=true
FEATURE_SECRET_MEMORIES=true
FEATURE_EMERGENCY_INHERITANCE=true

# ============================================
# DEPLOYMENT
# ============================================
DEPLOY_ENV=production
DEPLOY_REGION=us-east-1
DEPLOY_AUTO_SCALE=true
DEPLOY_MIN_INSTANCES=2
DEPLOY_MAX_INSTANCES=10
DEPLOY_TARGET_CPU=70

# CDN Configuration
CDN_ENABLED=true
CDN_URL=https://cdn.your-domain.com
CDN_CACHE_CONTROL=public, max-age=31536000

# ============================================
# EMAIL CONFIGURATION (Optional)
# ============================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key
EMAIL_FROM=noreply@your-domain.com
EMAIL_REPLY_TO=support@your-domain.com

# ============================================
# THIRD-PARTY INTEGRATIONS (Optional)
# ============================================
# Google Analytics
GA_TRACKING_ID=UA-XXXXXXXXX-X

# Mixpanel
MIXPANEL_TOKEN=your-mixpanel-token

# Intercom
INTERCOM_APP_ID=your-intercom-app-id
INTERCOM_SECRET_KEY=your-intercom-secret-key

# ============================================
# DEBUG (Set to false in production)
# ============================================
DEBUG=false
DEBUG_SQL=false
DEBUG_CACHE=false
DEBUG_HTTP=false